jQuery&&function(e){var h,b,d,A,c,s,m,w,B,r,p,x,j,n,i,t,k,u,v;function K(a){F.formatter=L;return e(this).on("click.boxer",e.extend({},F,a||{}),M)}function M(a){a.preventDefault();a.stopPropagation();var o=e(this),q=o.attr("href"),l=q.toLowerCase().split("."),l=l[l.length-1],y="image"==o.data("target")||"jpeg"==l||"jpg"==l||"gif"==l||"png"==l,f="url"==o.data("target")||!y&&"http"==q.substr(0,4),g="element"==o.data("target")||!y&&!f&&0<e(q).length;if(1>e("#boxer").length&&(y||f||g)){h=o;b={active:!1};
d=a.data;v=u=k=t=i=n=j=x=p=r=B=w=m=s=c=A=void 0;y&&(a=h.attr("rel"),"undefined"!==typeof a&&!1!==a&&(b.active=!0,b.rel=a,b.$items=e("a[rel= "+b.rel+"]"),b.index=b.$items.index(h),b.total=b.$items.length-1));a='<div id="boxer-overlay" style="opacity: 0"></div><div id="boxer" class="'+d.customClass;f&&(a+=" iframe");g&&(a+=" inline");a+='" style="opacity: 0;';!0===d.fixed&&(a+=" position: fixed;");a=a+'"><span class="boxer-close">Close</span>'+('<div class="boxer-container" style="opacity: 0; height: '+
d.height+"px; width: "+d.width+'px">');a+='<div class="boxer-content">';y&&(a+='<div class="boxer-meta">',b.active?(a+='<p class="boxer-position"',1>b.total&&(a+=' style="display: none;"'),a=a+">"+('<span class="current">'+(b.index+1)+'</span> of <span class="total">'+(b.total+1)+"</span>"),a+='</p><div class="boxer-arrow previous">Previous</div><div class="boxer-arrow next">Next</div><div class="boxer-caption gallery">'):a+='<div class="boxer-caption">',a+=d.formatter.apply(e("body"),[h]),a+="</div></div>");
e("body").append(a+"</div></div></div>");A=e("#boxer-overlay");c=e("#boxer");s=c.find(".boxer-container");m=c.find(".boxer-content");w=c.find(".boxer-meta");B=c.find(".boxer-position");r=c.find(".boxer-caption");p=c.find(".boxer-arrow");x=e("#boxer-overlay, #boxer");j=2*parseInt(c.css("paddingTop"),10);G();H();e(window).on("resize.boxer",N).on("keydown.boxer",O);e("body").on("click.boxer","#boxer-overlay, #boxer .boxer-close",D);if(b.active)c.on("click.boxer",".boxer-arrow",P);if(g||f)c.on("resize.boxer",
E.resize).on("close.boxer",D);A.animate({opacity:0.75},d.duration);c.animate({opacity:1},d.duration,function(){if(y)I(q);else if(f){var a=e('<iframe class="boxer-iframe" src="'+q+'" />');m.append(a);var a=e(window).height()-d.margin-j,b=e(window).width()-d.margin-j,o=h.data("height"),c=h.data("width");i=o!=void 0?o:a;n=c!=void 0?c:b;m.css({height:i,width:n});C()}else if(g){b=e(q).find(">:first-child").clone();m.append(b);a=b.outerHeight(true);b=b.outerWidth(true);o=h.data("height");c=h.data("width");
i=o!=void 0?o:a;n=c!=void 0?c:b;a=o!=void 0?false:e(window).height()-d.margin-j;m.css({width:n});if(a!==false&&i>a){i=a;m.css({height:a,overflowY:"scroll"})}C()}else e.error("BOXER: '"+q+"' is not valid.")})}}function C(){var a=(e(window).width()-n-j)/2,b=0>=d.top?(e(window).height()-i-j)/2:d.top;!0!==d.fixed&&(b+=e(window).scrollTop());var q=p.outerHeight();p.css({marginTop:(i-t-q)/2});c.animate({left:a,top:b},d.duration);s.show().animate({height:i,width:n},d.duration,function(){s.animate({opacity:1},
d.duration);c.find(".boxer-close").animate({opacity:1},d.duration)})}function D(a){a.preventDefault();a.stopPropagation();"undefined"!==typeof x&&(x.animate({opacity:0},d.duration,function(){e(this).remove()}),clearTimeout(z),z=null,e(window).off(".boxer"),e("body").off(".boxer"),b.active&&c.off(".boxer"),v=u=k=t=i=n=j=x=p=r=B=w=m=s=c=A=d=b=h=void 0)}function N(){null!==z&&(clearTimeout(z),z=null);z=setTimeout(function(){G()},10)}function G(){var a=(e(window).width()-c.width()-j)/2,b=0>=d.top?(e(window).height()-
c.height()-j)/2:d.top;!0!==d.fixed&&(b+=e(window).scrollTop());c.css({left:a,top:b})}function I(a){k=e("<img />");k.one("load.boxer",function(){u=k[0].height;v=k[0].width;d.retina&&(u/=2,v/=2);m.prepend(k);""==r.html()?r.hide():r.show();J(0)&&C()}).attr("src",a).addClass("boxer-image");k[0].complete&&k.trigger("load")}function L(a){a=a.attr("title");return""!=a&&void 0!==a?'<p class="caption">'+a+"</p>":""}function J(a){var b=0==a?u:k.outerHeight(),c=0==a?v:k.outerWidth(),l=0==a?0:t,h=e(window).width()-
d.margin-j,l=e(window).height()-d.margin-j-l;b<d.minHeight&&(d.minHeight=b);c<d.minWidth&&(d.minWidth=c);var f=c,g=b;c>b?(f=h,g=f*(b/c),g>l&&(g=l,f=g*(c/b))):(g=l,f=g*(c/b),f>h&&(f=h,g=f*(b/c)));if(f>c||g>b)f=c,g=b;if(f<d.minWidth||g<d.minHeight)c<b?(f=d.minWidth,g=f*(b/c)):(g=d.minHeight,f=g*(c/b));m.css({width:f});w.css({width:f});k.css({height:g,width:f});t=w.outerHeight(!0);n=f;i=g+t;return i>l&&2>a?J(a+1):!0}function P(a){a.preventDefault();a.stopPropagation();a=e(this);a.hasClass("disabled")||
(b.index+=a.hasClass("next")?1:-1,b.index>b.total&&(b.index=b.total),0>b.index&&(b.index=0),s.animate({opacity:0},d.duration,function(){k.remove();h=b.$items.eq(b.index);r.html(d.formatter.apply(e("body"),[h]));B.find(".current").html(b.index+1);I(h.attr("href"));H()}))}function H(){p.removeClass("disabled");0==b.index&&p.filter(".previous").addClass("disabled");b.index==b.total&&p.filter(".next").addClass("disabled")}function O(a){b.active&&(37==a.keyCode||39==a.keyCode)?(a.preventDefault(),a.stopPropagation(),
p.filter(37==a.keyCode?".previous":".next").trigger("click")):27==a.keyCode&&c.find(".boxer-close").trigger("click")}var F={customClass:"",duration:250,fixed:!1,formatter:function(){},height:100,margin:100,minHeight:300,minWidth:300,retina:!1,top:0,width:100};v=u=k=t=i=n=j=x=p=r=B=w=m=s=c=A=d=b=h=void 0;var z=null,E={destroy:function(){D(e.Event("click"));return e(this).off(".boxer")},resize:function(a,b,c){i=b;n=c;a=e(window).height()-d.margin-j;m.css({width:n});!1!==a&&i>a&&(i=a,m.css({height:a,
overflowY:"scroll"}));C()}};e.fn.boxer=function(a){return E[a]?E[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"===typeof a||!a?K.apply(this,arguments):this}}(jQuery);
